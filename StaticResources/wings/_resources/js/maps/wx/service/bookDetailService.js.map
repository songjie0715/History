{"version":3,"sources":["wx/service/bookDetailService.js"],"names":["define","$","core","isAddToShelf","bookId","ajax","type","data","favor","url","apiPath","changeBookItems","changeItemSort","purchaseChapter","chapterNum","chapterId","autoSub","buyCount","dataType","likeService","reviewId","reward","quota","URL","content","getBalance","getRewardItem","getDiscount"],"mappings":"AAAA,YAIAA,SAAQ,SAAS,QAAQ,SAASC,EAAEC,GAChC,OACIC,aAAc,SAASC,GACnB,MAAOH,GAAEI,MACLC,KAAM,OACNC,MACIC,MAAS,GAEbC,IAAKP,EAAKQ,QAAU,cAAeN,EAAQ,eAGnDO,gBAAiB,SAASP,EAAQQ,GAC9B,MAAOX,GAAEI,MACLC,KAAM,MACNG,IAAKP,EAAKQ,QAAU,cAAeN,EAAQ,oBAAsBQ,KAGzEC,gBAAiB,SAASC,EAAWC,EAAWC,GAC5C,MAAOf,GAAEI,MACLC,KAAM,OACNG,IAAKP,EAAKQ,QAAU,gBAAkBK,EACtCR,MACIU,SAAaH,EACbE,QAAYA,GAEhBE,SAAU,UAGlBC,YAAa,SAASf,EAAOgB,GACzB,MAAOnB,GAAEI,MACLI,IAAK,gBAAkBW,EAAU,QACjCd,KAAM,OACNC,MACIH,OAAQA,GAEZc,SAAU,UAGlBG,OAAQ,SAASjB,EAAQkB,EAAOP,GAC5B,GAAIQ,EAMJ,OAJIA,GADAR,EACM,gBAAiBX,EAAS,IAAMW,EAEhC,gBAAiBX,EAEpBH,EAAEI,MACLC,KAAM,OACNG,IAAKP,EAAKQ,QAAUa,EACpBhB,MACID,KAAQ,EACRgB,MAAUA,EACVE,QAAW,IAEfN,SAAU,UAGlBO,WAAY,SAASrB,EAAQW,GACzB,GAAIQ,EAMJ,OAJIA,GADAR,EACM,kCAAmCX,EAAS,IAAMW,EAElD,kCAAmCX,EAEtCH,EAAEI,MACLI,IAAKP,EAAKQ,QAAUa,EACpBL,SAAU,UAGlBQ,cAAe,SAAStB,GACpB,MAAOH,GAAEI,MACLI,IAAKP,EAAKQ,QAAU,cAAeN,EAAQ,UAC3Cc,SAAU,UAGlBS,YAAa,SAASZ,GAClB,MAAOd,GAAEI,MACLI,IAAKP,EAAKQ,QAAU,sBAAwBK,EAC5CG,SAAU","file":"../../../wx/service/bookDetailService.js","sourcesContent":["/**\n * Created by janey on 16/6/8.\n */\n\ndefine(['jquery','core'],function($,core){\n    return {\n        isAddToShelf: function(bookId){\n            return $.ajax({\n                type: 'POST',\n                data: {\n                    'favor': 0\n                },\n                url: core.apiPath + '/ajax/book/'+ bookId +'/favorite'\n            });\n        },\n        changeBookItems: function(bookId, changeItemSort){\n            return $.ajax({\n                type: 'GET',\n                url: core.apiPath + '/ajax/book/'+ bookId +'/recommend?sorts=' + changeItemSort\n            })\n        },\n        purchaseChapter: function(chapterNum,chapterId, autoSub){\n            return $.ajax({\n                type: 'POST',\n                url: core.apiPath + '/buy/chapter/' + chapterId,\n                data: {\n                    'buyCount' : chapterNum,\n                    'autoSub' : autoSub\n                },\n                dataType: 'JSON'\n            })\n        },\n        likeService: function(bookId,reviewId){\n            return $.ajax({\n                url: '/ajax/review/' + reviewId +'/like',\n                type: 'POST',\n                data: {\n                    bookId: bookId\n                },\n                dataType: 'JSON'\n            });\n        },\n        reward: function(bookId, quota, chapterId){\n            var URL;\n            if( chapterId ){\n                URL = '/ajax/reward/'+ bookId + '/' + chapterId;\n            } else {\n                URL = '/ajax/reward/'+ bookId;\n            }\n            return $.ajax({\n                type: 'POST',\n                url: core.apiPath + URL,\n                data: {\n                    'type': 1,\n                    'quota' : quota,\n                    'content': ''\n                },\n                dataType: 'JSON'\n            })\n        },\n        getBalance: function(bookId, chapterId){\n            var URL;\n            if( chapterId ){\n                URL = '/ajax/i/balances?backUrl=/book/'+ bookId + '/' + chapterId;\n            } else {\n                URL = '/ajax/i/balances?backUrl=/book/'+ bookId;\n            }\n            return $.ajax({\n                url: core.apiPath + URL,\n                dataType: 'JSON'\n            })\n        },\n        getRewardItem: function(bookId){\n            return $.ajax({\n                url: core.apiPath + '/ajax/book/'+ bookId +'/reward',\n                dataType: 'JSON'\n            })\n        },\n        getDiscount: function(chapterId){\n            return $.ajax({\n                url: core.apiPath + '/buy/chapter/trial/' + chapterId,\n                dataType: 'JSON'\n            })\n        }\n    }\n});"]}