{"version":3,"sources":["wxV2/service/bookDetailService.js"],"names":["define","core","isAddToShelf","bookId","$","ajax","type","data","favor","url","website_DOMAIN","changeBookItems","changeItemSort","purchaseChapter","chapterNum","chapterId","autoSub","buyCount","dataType","likeService","reviewId","reward","quota","URL","content","getBalance","getRewardItem","getDiscount"],"mappings":"AAAA,YAIAA,SAAQ,QAAQ,SAASC,GACrB,OACIC,aAAc,SAASC,GACnB,MAAOC,GAAEC,MACLC,KAAM,OACNC,MACIC,MAAS,GAEbC,IAAKR,EAAKS,eAAiB,cAAeP,EAAQ,eAG1DQ,gBAAiB,SAASR,EAAQS,GAC9B,MAAOR,GAAEC,MACLC,KAAM,MACNG,IAAKR,EAAKS,eAAiB,cAAeP,EAAQ,oBAAsBS,KAGhFC,gBAAiB,SAASC,EAAWC,EAAWC,GAC5C,MAAOZ,GAAEC,MACLC,KAAM,OACNG,IAAKR,EAAKS,eAAiB,gBAAkBK,EAC7CR,MACIU,SAAaH,EACbE,QAAYA,GAEhBE,SAAU,UAGlBC,YAAa,SAAShB,EAAOiB,GACzB,MAAOhB,GAAEC,MACLI,IAAKR,EAAKS,eAAiB,gBAAkBU,EAAU,QACvDd,KAAM,OACNC,MACIJ,OAAQA,GAEZe,SAAU,UAGlBG,OAAQ,SAASlB,EAAQmB,EAAOP,GAC5B,GAAIQ,EAMJ,OAJIA,GADAR,EACM,gBAAiBZ,EAAS,IAAMY,EAEhC,gBAAiBZ,EAEpBC,EAAEC,MACLC,KAAM,OACNG,IAAKR,EAAKS,eAAiBa,EAC3BhB,MACID,KAAQ,EACRgB,MAAUA,EACVE,QAAW,IAEfN,SAAU,UAGlBO,WAAY,SAAStB,EAAQY,GACzB,GAAIQ,EAMJ,OAJIA,GADAR,EACM,kCAAmCZ,EAAS,IAAMY,EAElD,kCAAmCZ,EAEtCC,EAAEC,MACLI,IAAKR,EAAKS,eAAiBa,EAC3BL,SAAU,UAGlBQ,cAAe,SAASvB,GACpB,MAAOC,GAAEC,MACLI,IAAKR,EAAKS,eAAiB,cAAeP,EAAQ,UAClDe,SAAU,UAGlBS,YAAa,SAASZ,GAClB,MAAOX,GAAEC,MACLI,IAAKR,EAAKS,eAAiB,sBAAwBK,EACnDG,SAAU","file":"../../../wxV2/service/bookDetailService.js","sourcesContent":["/**\n * Created by janey on 16/6/8.\n */\n\ndefine(['core'],function(core){\n    return {\n        isAddToShelf: function(bookId){\n            return $.ajax({\n                type: 'POST',\n                data: {\n                    'favor': 0\n                },\n                url: core.website_DOMAIN + '/ajax/book/'+ bookId +'/favorite'\n            });\n        },\n        changeBookItems: function(bookId, changeItemSort){\n            return $.ajax({\n                type: 'GET',\n                url: core.website_DOMAIN + '/ajax/book/'+ bookId +'/recommend?sorts=' + changeItemSort\n            })\n        },\n        purchaseChapter: function(chapterNum,chapterId, autoSub){\n            return $.ajax({\n                type: 'POST',\n                url: core.website_DOMAIN + '/buy/chapter/' + chapterId,\n                data: {\n                    'buyCount' : chapterNum,\n                    'autoSub' : autoSub\n                },\n                dataType: 'JSON'\n            })\n        },\n        likeService: function(bookId,reviewId){\n            return $.ajax({\n                url: core.website_DOMAIN + '/ajax/review/' + reviewId +'/like',\n                type: 'POST',\n                data: {\n                    bookId: bookId\n                },\n                dataType: 'JSON'\n            });\n        },\n        reward: function(bookId, quota, chapterId){\n            var URL;\n            if( chapterId ){\n                URL = '/ajax/reward/'+ bookId + '/' + chapterId;\n            } else {\n                URL = '/ajax/reward/'+ bookId;\n            }\n            return $.ajax({\n                type: 'POST',\n                url: core.website_DOMAIN + URL,\n                data: {\n                    'type': 1,\n                    'quota' : quota,\n                    'content': ''\n                },\n                dataType: 'JSON'\n            })\n        },\n        getBalance: function(bookId, chapterId){\n            var URL;\n            if( chapterId ){\n                URL = '/ajax/i/balances?backUrl=/book/'+ bookId + '/' + chapterId;\n            } else {\n                URL = '/ajax/i/balances?backUrl=/book/'+ bookId;\n            }\n            return $.ajax({\n                url: core.website_DOMAIN + URL,\n                dataType: 'JSON'\n            })\n        },\n        getRewardItem: function(bookId){\n            return $.ajax({\n                url: core.website_DOMAIN + '/ajax/book/'+ bookId +'/reward',\n                dataType: 'JSON'\n            })\n        },\n        getDiscount: function(chapterId){\n            return $.ajax({\n                url: core.website_DOMAIN + '/buy/chapter/trial/' + chapterId,\n                dataType: 'JSON'\n            })\n        }\n    }\n});"]}